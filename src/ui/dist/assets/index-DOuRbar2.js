(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=n(e);fetch(e.href,t)}})();const l="http://172.31.179.138:8000/lightctl",i=new WebSocket(l),d=3;i.onmessage=c=>{const o=c.data,n=JSON.parse(o);n.count&&console.log(`count is: ${n.count}`);const r=n.id,e=n.state,t=document.getElementById(`checkbox_${r}`);t.checked=e};window.onload=()=>{for(let c of Array(d).keys()){c++;const o=document.createElement("input");o.setAttribute("type","checkbox"),o.setAttribute("id",`checkbox_${c}`);const n=document.getElementById("div");if(n===null)return;n.appendChild(o),o.onclick=()=>{console.log("let there be light!!!");const r=JSON.stringify({id:c,action:o.checked});i.send(r)}}};
